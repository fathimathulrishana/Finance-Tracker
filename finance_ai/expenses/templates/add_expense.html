{% extends 'base.html' %}
{% block title %}{% if is_edit %}Edit{% else %}Add{% endif %} Expense | Finance Tracker{% endblock %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-md-6 col-lg-5">
    <div class="mb-4">
      <h2 class="mb-1"><i class="bi bi-{% if is_edit %}pencil-square{% else %}plus-circle{% endif %}"></i> {% if is_edit %}Edit{% else %}Add{% endif %} Expense</h2>
      <p class="text-muted">{% if is_edit %}Update your expense details{% else %}Record a new expense transaction{% endif %}</p>
    </div>

    <div class="card">
      <div class="card-body p-4">
        <form method="post" novalidate>
          {% csrf_token %}

          <div class="mb-3">
            <label class="form-label fw-600"><i class="bi bi-tag"></i> Category</label>
            {{ form.category }}
            {% if form.category.errors %}
              <div class="text-danger small mt-1">{{ form.category.errors.0 }}</div>
            {% endif %}
          </div>

          <div class="mb-3">
            <label class="form-label fw-600"><i class="bi bi-cash-coin"></i> Amount</label>
            <div class="input-group">
              <span class="input-group-text bg-light border-0">$</span>
              {{ form.amount }}
            </div>
            {% if form.amount.errors %}
              <div class="text-danger small mt-1">{{ form.amount.errors.0 }}</div>
            {% endif %}
          </div>

          <div class="mb-4">
            <label class="form-label fw-600"><i class="bi bi-chat-left-text"></i> Description (Optional)</label>
            {{ form.description }}
            {% if form.description.errors %}
              <div class="text-danger small mt-1">{{ form.description.errors.0 }}</div>
            {% endif %}
          </div>

          <div class="d-grid gap-2 d-sm-flex">
            <button class="btn btn-primary fw-600" type="submit"><i class="bi bi-check-circle"></i> Save Expense</button>
            <a href="/expenses/" class="btn btn-outline-secondary fw-600"><i class="bi bi-x-circle"></i> Cancel</a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
